<header>
  <nav>
    <a href={import.meta.env.BASE_URL} class="logo">
      <span class="logo-text">Sakata Lab / 坂田・森・浅谷・西本研究室</span>
      <span class="logo-dept">東京大学工学系研究科技術経営戦略学専攻</span>
    </a>
    <ul class="nav-links">
      <li><a href={`${import.meta.env.BASE_URL}/research`}>研究内容</a></li>
      <li><a href={`${import.meta.env.BASE_URL}/members`}>メンバー</a></li>
      <li>
        <a href={`${import.meta.env.BASE_URL}/publications`}>論文リスト</a>
      </li>
      <li><a href={`${import.meta.env.BASE_URL}/activity`}>活動</a></li>
      <li><a href={`${import.meta.env.BASE_URL}/news`}>ニュース</a></li>
      <li><a href={`${import.meta.env.BASE_URL}/visit`}>採用/学生募集</a></li>
    </ul>
    <button class="hamburger" aria-label="Menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <div class="mobile-menu">
      <a href={`${import.meta.env.BASE_URL}/research`}>研究内容</a>
      <a href={`${import.meta.env.BASE_URL}/members`}>メンバー</a>
      <a href={`${import.meta.env.BASE_URL}/publications`}>論文リスト</a>
      <a href={`${import.meta.env.BASE_URL}/activity`}>活動</a>
      <a href={`${import.meta.env.BASE_URL}/news`}>ニュース</a>
      <a href={`${import.meta.env.BASE_URL}/visit`}>採用/学生募集</a>
    </div>
  </nav>

  <script>
    const hamburger = document.querySelector(".hamburger");
    const mobileMenu = document.querySelector(".mobile-menu");
    const menuLinks = document.querySelectorAll(".mobile-menu a");

    if (hamburger && mobileMenu) {
      hamburger.addEventListener("click", () => {
        hamburger.classList.toggle("active");
        mobileMenu.classList.toggle("active");
        document.body.style.overflow = mobileMenu.classList.contains("active")
          ? "hidden"
          : "";
      });

      // Close menu when a link is clicked
      menuLinks.forEach((link) => {
        link.addEventListener("click", () => {
          hamburger.classList.remove("active");
          mobileMenu.classList.remove("active");
          document.body.style.overflow = "";
        });
      });
    }
  </script>

  <style>
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      padding: 1rem 2rem;
      background: rgba(250, 250, 250, 0.92);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
    }

    header nav {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-family: var(--font-sans);
      font-size: 0.95rem;
      font-weight: 500;
      color: var(--text-primary);
      text-decoration: none;
      letter-spacing: -0.01em;
      z-index: 101; /* Above mobile menu */
    }

    .logo-text {
      display: block;
      line-height: 1.2;
    }

    .logo-dept {
      font-size: 0.65rem;
      color: var(--text-muted);
      display: block;
      margin-top: 1px;
    }

    .nav-links {
      display: flex;
      gap: 1.75rem;
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .nav-links a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.8rem;
      font-weight: 400;
      transition: color 0.2s;
    }

    .nav-links a:hover {
      color: var(--accent);
    }

    /* Hamburger Menu */
    .hamburger {
      display: none;
      flex-direction: column;
      justify-content: space-between;
      width: 24px;
      height: 18px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
      z-index: 101;
    }

    .hamburger span {
      display: block;
      width: 100%;
      height: 2px;
      background-color: var(--text-primary);
      transition: all 0.3s ease;
    }

    .mobile-menu {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: var(--bg-primary);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 2rem;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 100;
    }

    .mobile-menu.active {
      opacity: 1;
      pointer-events: auto;
    }

    .mobile-menu a {
      font-size: 1.5rem;
      color: var(--text-primary);
      text-decoration: none;
      font-weight: 500;
    }

    /* Hamburger Animation */
    .hamburger.active span:nth-child(1) {
      transform: translateY(8px) rotate(45deg);
    }

    .hamburger.active span:nth-child(2) {
      opacity: 0;
    }

    .hamburger.active span:nth-child(3) {
      transform: translateY(-8px) rotate(-45deg);
    }

    @media (max-width: 900px) {
      header {
        padding: 0.85rem 1rem;
      }

      .nav-links {
        display: none;
      }

      .hamburger {
        display: flex;
      }
    }
  </style>
</header>
